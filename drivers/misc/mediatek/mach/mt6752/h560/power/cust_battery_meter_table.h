#ifndef _CUST_BATTERY_METER_TABLE_H
#define _CUST_BATTERY_METER_TABLE_H

#include <mach/mt_typedefs.h>

// ============================================================
// define
// ============================================================
#define BAT_NTC_10 1
#define BAT_NTC_47 0

#if (BAT_NTC_10 == 1)
#define RBAT_PULL_UP_R             24000	
#endif

#if (BAT_NTC_47 == 1)
#define RBAT_PULL_UP_R             61900	
#endif

#define RBAT_PULL_UP_VOLT          2800



// ============================================================
// ENUM
// ============================================================

// ============================================================
// structure
// ============================================================

// ============================================================
// typedef
// ============================================================
typedef struct _BATTERY_PROFILE_STRUC
{
    kal_int32 percentage;
    kal_int32 voltage;
} BATTERY_PROFILE_STRUC, *BATTERY_PROFILE_STRUC_P;

typedef struct _R_PROFILE_STRUC
{
    kal_int32 resistance; // Ohm
    kal_int32 voltage;
} R_PROFILE_STRUC, *R_PROFILE_STRUC_P;

typedef enum
{
    T1_0C,
    T2_25C,
    T3_50C
} PROFILE_TEMPERATURE;

// ============================================================
// External Variables
// ============================================================

// ============================================================
// External function
// ============================================================

// ============================================================
// <DOD, Battery_Voltage> Table
// ============================================================
#if (BAT_NTC_10 == 1)
    BATT_TEMPERATURE Batt_Temperature_Table[] = {
        {-20,68237},
        {-15,53650},
        {-10,42506},
        { -5,33892},
        {  0,27219},
        {  5,22021},
        { 10,17926},
        { 15,14674},
        { 20,12081},
        { 25,10000},
        { 30,8315},
        { 35,6948},
        { 40,5834},
        { 45,4917},
        { 50,4161},
        { 55,3535},
        { 60,3014}
    };
#endif

#if (BAT_NTC_47 == 1)
    BATT_TEMPERATURE Batt_Temperature_Table[] = {
        {-20,483954},
        {-15,360850},
        {-10,271697},
        { -5,206463},
        {  0,158214},
        {  5,122259},
        { 10,95227},
        { 15,74730},
        { 20,59065},
        { 25,47000},
        { 30,37643},
        { 35,30334},
        { 40,24591},
        { 45,20048},
        { 50,16433},
        { 55,13539},
        { 60,11210}        
    };
#endif

// T0 -10C
BATTERY_PROFILE_STRUC battery_profile_t0[] =
{
	{0,4300}, 
	{1,4286}, //100
	{3,4272}, //98
	{4,4265}, //97
	{6,4251}, //95
	{8,4237}, //93
	{9,4230}, //92
	{11,4216}, //90
	{13,4202}, //88
	{14,4195}, //87
	{16,4181}, //85
	{18,4167}, //83
	{19,4160}, //82
	{21,4146}, //80
	{22,4138}, //79
	{24,4122}, //77
	{26,4106}, //75
	{27,4098}, //74
	{29,4082}, //72
	{31,4064}, //70
	{32,4056}, //69
	{34,4038}, //67
	{36,4022}, //65
	{37,4014}, //64
	{39,3998}, //62
	{41,3982}, //60
	{42,3966}, //59
	{44,3950}, //57
	{45,3934}, //56
	{47,3918}, //54
	{49,3902}, //52
	{50,3886}, //51
	{52,3870}, //49
	{54,3854}, //47
	{55,3838}, //46
	{57,3822}, //44
	{59,3806}, //42
	{60,3790}, //41
	{62,3774}, //39
	{64,3758}, //37
	{65,3742}, //36
	{67,3726}, //34
	{68,3710}, //33
	{70,3694}, //31
	{72,3678}, //29
	{73,3662}, //28
	{75,3646}, //26
	{77,3630}, //24
	{78,3614}, //23
	{80,3598}, //21
	{82,3584}, //19
	{83,3570}, //18
	{85,3556}, //16
	{86,3542}, //15
	{88,3528}, //13
	{90,3514}, //11
	{91,3500}, //10
	{93,3486}, //8
	{95,3472}, //6
	{96,3458}, //5
	{98,3444}, //3
	{100,3430}, //1%
	{100,3426},
	{100,3422},
	{100,3418},
	{100,3414},
	{100,3410},
	{100,3406},
	{100,3400}
};

// T1 0C
BATTERY_PROFILE_STRUC battery_profile_t1[] =
{
	{0,4300}, 
	{1,4286}, //100
	{3,4272}, //98
	{4,4265}, //97
	{6,4251}, //95
	{8,4237}, //93
	{9,4230}, //92
	{11,4216}, //90
	{13,4202}, //88
	{14,4195}, //87
	{16,4181}, //85
	{18,4167}, //83
	{19,4160}, //82
	{21,4146}, //80
	{22,4138}, //79
	{24,4122}, //77
	{26,4106}, //75
	{27,4098}, //74
	{29,4082}, //72
	{31,4064}, //70
	{32,4056}, //69
	{34,4038}, //67
	{36,4022}, //65
	{37,4014}, //64
	{39,3998}, //62
	{41,3982}, //60
	{42,3966}, //59
	{44,3950}, //57
	{45,3934}, //56
	{47,3918}, //54
	{49,3902}, //52
	{50,3886}, //51
	{52,3870}, //49
	{54,3854}, //47
	{55,3838}, //46
	{57,3822}, //44
	{59,3806}, //42
	{60,3790}, //41
	{62,3774}, //39
	{64,3758}, //37
	{65,3742}, //36
	{67,3726}, //34
	{68,3710}, //33
	{70,3694}, //31
	{72,3678}, //29
	{73,3662}, //28
	{75,3646}, //26
	{77,3630}, //24
	{78,3614}, //23
	{80,3598}, //21
	{82,3584}, //19
	{83,3570}, //18
	{85,3556}, //16
	{86,3542}, //15
	{88,3528}, //13
	{90,3514}, //11
	{91,3500}, //10
	{93,3486}, //8
	{95,3472}, //6
	{96,3458}, //5
	{98,3444}, //3
	{100,3430}, //1%
	{100,3426},
	{100,3422},
	{100,3418},
	{100,3414},
	{100,3410},
	{100,3406},
	{100,3400}
};

// T2 25C
BATTERY_PROFILE_STRUC battery_profile_t2[] =
{
	{0,4300}, 
	{1,4286}, //100
	{3,4272}, //98
	{4,4265}, //97
	{6,4251}, //95
	{8,4237}, //93
	{9,4230}, //92
	{11,4216}, //90
	{13,4202}, //88
	{14,4195}, //87
	{16,4181}, //85
	{18,4167}, //83
	{19,4160}, //82
	{21,4146}, //80
	{22,4138}, //79
	{24,4122}, //77
	{26,4106}, //75
	{27,4098}, //74
	{29,4082}, //72
	{31,4064}, //70
	{32,4056}, //69
	{34,4038}, //67
	{36,4022}, //65
	{37,4014}, //64
	{39,3998}, //62
	{41,3982}, //60
	{42,3966}, //59
	{44,3950}, //57
	{45,3934}, //56
	{47,3918}, //54
	{49,3902}, //52
	{50,3886}, //51
	{52,3870}, //49
	{54,3854}, //47
	{55,3838}, //46
	{57,3822}, //44
	{59,3806}, //42
	{60,3790}, //41
	{62,3774}, //39
	{64,3758}, //37
	{65,3742}, //36
	{67,3726}, //34
	{68,3710}, //33
	{70,3694}, //31
	{72,3678}, //29
	{73,3662}, //28
	{75,3646}, //26
	{77,3630}, //24
	{78,3614}, //23
	{80,3598}, //21
	{82,3584}, //19
	{83,3570}, //18
	{85,3556}, //16
	{86,3542}, //15
	{88,3528}, //13
	{90,3514}, //11
	{91,3500}, //10
	{93,3486}, //8
	{95,3472}, //6
	{96,3458}, //5
	{98,3444}, //3
	{100,3430}, //1%
	{100,3426},
	{100,3422},
	{100,3418},
	{100,3414},
	{100,3410},
	{100,3406},
	{100,3400}
};

// T3 50C
BATTERY_PROFILE_STRUC battery_profile_t3[] =
{
	{0,4300}, 
	{1,4286}, //100
	{3,4272}, //98
	{4,4265}, //97
	{6,4251}, //95
	{8,4237}, //93
	{9,4230}, //92
	{11,4216}, //90
	{13,4202}, //88
	{14,4195}, //87
	{16,4181}, //85
	{18,4167}, //83
	{19,4160}, //82
	{21,4146}, //80
	{22,4138}, //79
	{24,4122}, //77
	{26,4106}, //75
	{27,4098}, //74
	{29,4082}, //72
	{31,4064}, //70
	{32,4056}, //69
	{34,4038}, //67
	{36,4022}, //65
	{37,4014}, //64
	{39,3998}, //62
	{41,3982}, //60
	{42,3966}, //59
	{44,3950}, //57
	{45,3934}, //56
	{47,3918}, //54
	{49,3902}, //52
	{50,3886}, //51
	{52,3870}, //49
	{54,3854}, //47
	{55,3838}, //46
	{57,3822}, //44
	{59,3806}, //42
	{60,3790}, //41
	{62,3774}, //39
	{64,3758}, //37
	{65,3742}, //36
	{67,3726}, //34
	{68,3710}, //33
	{70,3694}, //31
	{72,3678}, //29
	{73,3662}, //28
	{75,3646}, //26
	{77,3630}, //24
	{78,3614}, //23
	{80,3598}, //21
	{82,3584}, //19
	{83,3570}, //18
	{85,3556}, //16
	{86,3542}, //15
	{88,3528}, //13
	{90,3514}, //11
	{91,3500}, //10
	{93,3486}, //8
	{95,3472}, //6
	{96,3458}, //5
	{98,3444}, //3
	{100,3430}, //1%
	{100,3426},
	{100,3422},
	{100,3418},
	{100,3414},
	{100,3410},
	{100,3406},
	{100,3400}
};

// battery profile for actual temperature. The size should be the same as T1, T2 and T3
BATTERY_PROFILE_STRUC battery_profile_temperature[] =
{
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 }
};
// T0 -10C
R_PROFILE_STRUC r_profile_t0[] =
{
	{158,4300},
	{157,4286},
	{160,4272},
	{160,4265},
	{162,4251},
	{162,4237},
	{165,4230},
	{165,4216},
	{165,4202},
	{170,4195},
	{170,4181},
	{172,4167},
	{175,4160},
	{177,4146},
	{185,4138},
	{185,4122},
	{180,4106},
	{185,4098},
	{187,4082},
	{195,4064},
	{195,4056},
	{197,4038},
	{197,4022},
	{197,4014},
	{190,3998},
	{177,3982},
	{170,3966},
	{170,3950},
	{165,3934},
	{167,3918},
	{165,3902},
	{165,3886},
	{165,3870},
	{167,3854},
	{167,3838},
	{170,3822},
	{170,3806},
	{172,3790},
	{175,3774},
	{175,3758},
	{177,3742},
	{177,3726},
	{175,3710},
	{172,3694},
	{170,3678},
	{170,3662},
	{167,3646},
	{167,3630},
	{170,3614},
	{170,3598},
	{172,3584},
	{172,3570},
	{172,3556},
	{180,3542},
	{175,3528},
	{175,3514},
	{182,3500},
	{195,3486},
	{207,3472},
	{202,3458},
	{217,3444},
	{262,3430},
	{257,3426},
	{212,3422},
	{190,3418},
	{180,3414},
	{170,3410},
	{165,3406},
	{170,3400}
};

// T1 0C
R_PROFILE_STRUC r_profile_t1[] =
{
	{158,4300},
	{157,4286},
	{160,4272},
	{160,4265},
	{162,4251},
	{162,4237},
	{165,4230},
	{165,4216},
	{165,4202},
	{170,4195},
	{170,4181},
	{172,4167},
	{175,4160},
	{177,4146},
	{185,4138},
	{185,4122},
	{180,4106},
	{185,4098},
	{187,4082},
	{195,4064},
	{195,4056},
	{197,4038},
	{197,4022},
	{197,4014},
	{190,3998},
	{177,3982},
	{170,3966},
	{170,3950},
	{165,3934},
	{167,3918},
	{165,3902},
	{165,3886},
	{165,3870},
	{167,3854},
	{167,3838},
	{170,3822},
	{170,3806},
	{172,3790},
	{175,3774},
	{175,3758},
	{177,3742},
	{177,3726},
	{175,3710},
	{172,3694},
	{170,3678},
	{170,3662},
	{167,3646},
	{167,3630},
	{170,3614},
	{170,3598},
	{172,3584},
	{172,3570},
	{172,3556},
	{180,3542},
	{175,3528},
	{175,3514},
	{182,3500},
	{195,3486},
	{207,3472},
	{202,3458},
	{217,3444},
	{262,3430},
	{257,3426},
	{212,3422},
	{190,3418},
	{180,3414},
	{170,3410},
	{165,3406},
	{170,3400}
};

// T2 25C
R_PROFILE_STRUC r_profile_t2[] =
{
	{158,4300},
	{157,4286},
	{160,4272},
	{160,4265},
	{162,4251},
	{162,4237},
	{165,4230},
	{165,4216},
	{165,4202},
	{170,4195},
	{170,4181},
	{172,4167},
	{175,4160},
	{177,4146},
	{185,4138},
	{185,4122},
	{180,4106},
	{185,4098},
	{187,4082},
	{195,4064},
	{195,4056},
	{197,4038},
	{197,4022},
	{197,4014},
	{190,3998},
	{177,3982},
	{170,3966},
	{170,3950},
	{165,3934},
	{167,3918},
	{165,3902},
	{165,3886},
	{165,3870},
	{167,3854},
	{167,3838},
	{170,3822},
	{170,3806},
	{172,3790},
	{175,3774},
	{175,3758},
	{177,3742},
	{177,3726},
	{175,3710},
	{172,3694},
	{170,3678},
	{170,3662},
	{167,3646},
	{167,3630},
	{170,3614},
	{170,3598},
	{172,3584},
	{172,3570},
	{172,3556},
	{180,3542},
	{175,3528},
	{175,3514},
	{182,3500},
	{195,3486},
	{207,3472},
	{202,3458},
	{217,3444},
	{262,3430},
	{257,3426},
	{212,3422},
	{190,3418},
	{180,3414},
	{170,3410},
	{165,3406},
	{170,3400}
};

// T3 50C
R_PROFILE_STRUC r_profile_t3[] =
{
	{158,4300},
	{157,4286},
	{160,4272},
	{160,4265},
	{162,4251},
	{162,4237},
	{165,4230},
	{165,4216},
	{165,4202},
	{170,4195},
	{170,4181},
	{172,4167},
	{175,4160},
	{177,4146},
	{185,4138},
	{185,4122},
	{180,4106},
	{185,4098},
	{187,4082},
	{195,4064},
	{195,4056},
	{197,4038},
	{197,4022},
	{197,4014},
	{190,3998},
	{177,3982},
	{170,3966},
	{170,3950},
	{165,3934},
	{167,3918},
	{165,3902},
	{165,3886},
	{165,3870},
	{167,3854},
	{167,3838},
	{170,3822},
	{170,3806},
	{172,3790},
	{175,3774},
	{175,3758},
	{177,3742},
	{177,3726},
	{175,3710},
	{172,3694},
	{170,3678},
	{170,3662},
	{167,3646},
	{167,3630},
	{170,3614},
	{170,3598},
	{172,3584},
	{172,3570},
	{172,3556},
	{180,3542},
	{175,3528},
	{175,3514},
	{182,3500},
	{195,3486},
	{207,3472},
	{202,3458},
	{217,3444},
	{262,3430},
	{257,3426},
	{212,3422},
	{190,3418},
	{180,3414},
	{170,3410},
	{165,3406},
	{170,3400}
};

// r-table profile for actual temperature. The size should be the same as T1, T2 and T3
R_PROFILE_STRUC r_profile_temperature[] =
{
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 }
};

// ============================================================
// function prototype
// ============================================================
int fgauge_get_saddles(void);
BATTERY_PROFILE_STRUC_P fgauge_get_profile(kal_uint32 temperature);

int fgauge_get_saddles_r_table(void);
R_PROFILE_STRUC_P fgauge_get_profile_r_table(kal_uint32 temperature);

#endif	//#ifndef _CUST_BATTERY_METER_TABLE_H
